(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,n){t.exports=n(28)},19:function(t,e,n){},21:function(t,e,n){},27:function(t,e,n){t.exports=n.p+"static/media/Song-SavantLogo.c761d17a.png"},28:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(11),r=n.n(s),o=(n(19),n(1)),c=n(2),l=n(4),u=n(3),h=(n(8),n(5)),d=n(10),m=n.n(d),g=n(12),f=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var i;Object(o.a)(this,n);var a=(i=e.call(this,t)).props.limit;return i.state={TIME_LIMIT:a,started:!1,timeLeft:a,timePassed:0},i.formatTimeLeft=i.formatTimeLeft.bind(Object(h.a)(i)),i.calculateTimeFraction=i.calculateTimeFraction.bind(Object(h.a)(i)),i.onTimesUp=i.onTimesUp.bind(Object(h.a)(i)),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){return t.startTimer(t.interval)}),1e3)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"formatTimeLeft",value:function(t){var e=Math.floor(t/60),n=t%60;return n<10&&(n="0".concat(n)),"".concat(e,":").concat(n)}},{key:"startTimer",value:function(){this.state.timeLeft<10?this.setState({timePassed:this.state.timePassed+=1,timeLeft:this.state.TIME_LIMIT-this.state.timePassed,remainingPathColor:"base-timer__path-remaining red"}):this.state.timeLeft<20?this.setState({timePassed:this.state.timePassed+=1,timeLeft:this.state.TIME_LIMIT-this.state.timePassed,remainingPathColor:"base-timer__path-remaining orange"}):this.state.timeLeft>0?this.setState({timePassed:this.state.timePassed+=1,timeLeft:this.state.TIME_LIMIT-this.state.timePassed,remainingPathColor:"base-timer__path-remaining green"}):0===this.state.timeLeft&&this.onTimesUp()}},{key:"onTimesUp",value:function(){clearInterval(this.interval)}},{key:"calculateTimeFraction",value:function(){var t=this.state.timeLeft/this.state.TIME_LIMIT;return t-1/this.state.TIME_LIMIT*(1-t)}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{id:"timer"},a.a.createElement(g.CountdownCircleTimer,{isPlaying:!0,duration:this.state.timeLeft,size:200,strokeWidth:12,colors:[["#0cf514",.33],["#fa9d2a",.33],["#f2340f",.33]]},(function(e){var n=e.remainingTime;return t.formatTimeLeft(n)})))}}]),n}(a.a.Component),p=(n(21),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t={countTicks:360,frequencyData:[],tickSize:10,PI:360,index:0,loadingAngle:0,init:function(t){this.canvas=document.querySelector("canvas"),this.scene=t,this.context=t.context,this.configure()},configure:function(){this.maxTickSize=9*this.tickSize*this.scene.scaleCoef,this.countTicks=360*n.scaleCoef},draw:function(){this.drawTicks(),this.drawEdging()},drawTicks:function(){this.context.save(),this.context.beginPath(),this.context.lineWidth=1,this.ticks=this.getTicks(this.countTicks,this.tickSize,[0,90]);for(var t=0,e=this.ticks.length;t<e;++t){var n=this.ticks[t];this.drawTick(n.x1,n.y1,n.x2,n.y2)}this.context.restore()},drawTick:function(t,e,n,i){var a=parseInt(this.scene.cx+t),s=parseInt(this.scene.cy+e),r=parseInt(this.scene.cx+n),o=parseInt(this.scene.cy+i),c=this.context.createLinearGradient(a,s,r,o);c.addColorStop(0,"#FE4365"),c.addColorStop(.6,"#FE4365"),c.addColorStop(1,"#F5F5F5"),this.context.beginPath(),this.context.strokeStyle=c,this.context.lineWidth=2,this.context.moveTo(this.scene.cx+t,this.scene.cx+e),this.context.lineTo(this.scene.cx+n,this.scene.cx+i),this.context.stroke()},setLoadingPercent:function(t){this.loadingAngle=2*t*Math.PI},drawEdging:function(){this.context.save(),this.context.beginPath(),this.context.strokeStyle="rgba(254, 67, 101, 0.5)",this.context.lineWidth=1;var t=e.lineWidth/2;this.context.moveTo(this.scene.padding+2*this.scene.radius-e.innerDelta-t,this.scene.padding+this.scene.radius),this.context.arc(this.scene.cx,this.scene.cy,this.scene.radius-e.innerDelta-t,0,this.loadingAngle,!1),this.context.stroke(),this.context.restore()},getTicks:function(t,e,n){for(var i,a,s,r,o,c,l=this.getTickPoitns(t),u=[],h=[],d=0,m=l.length;d<m;++d){var g=1-d/(2.5*m),f=((this.frequencyData[d]||0)-160*g)*this.scene.scaleCoef;if(f<0&&(f=0),o=l[d],c=n[0]<=o.angle&&o.angle<=n[1]?this.scene.radius/(this.scene.radius-this.getSize(o.angle,n[0],n[1])-f):this.scene.radius/(this.scene.radius-(10+f)),s=(i=o.x*(this.scene.radius-10))*c,r=(a=o.y*(this.scene.radius-10))*c,u.push({x1:i,y1:a,x2:s,y2:r}),d<20){var p=f/50;p=p<1?1:p,h.push(p)}}var v=h.reduce((function(t,e){return t+e}),0)/h.length;return this.canvas.style.transform="scale("+v+")",u},getSize:function(t,e,n){var i,a=(n-e)/2,s=t-e;if(s==a)return this.maxTickSize;var r=Math.abs(a-s),o=70*Math.sqrt(1/r);return i=o>this.maxTickSize?this.maxTickSize-r:Math.max(this.tickSize,o),this.index>this.count&&(this.index=0),i},getTickPoitns:function(t){for(var e=[],n=this.PI/t,i=0;i<this.PI;i+=n){var a=i*Math.PI/(this.PI/2);e.push({x:Math.cos(a),y:-Math.sin(a),angle:i})}return e}},e={innerDelta:20,lineWidth:7,prevAngle:.5,angle:0,animationCount:10,pressButton:!1,init:function(t){this.scene=t,this.context=t.context,this.initHandlers()},initHandlers:function(){var t=this;this.scene.canvas.addEventListener("mousedown",(function(e){t.isInsideOfSmallCircle(e)||t.isOusideOfBigCircle(e)||(t.prevAngle=t.angle,t.pressButton=!0,t.stopAnimation(),t.calculateAngle(e,!0))})),window.addEventListener("mouseup",(function(){if(t.pressButton)var e=setInterval((function(){t.animatedInProgress||(t.pressButton=!1,a.context.currentTime=t.angle/(2*Math.PI)*a.source.buffer.duration,clearInterval(e))}),100)})),window.addEventListener("mousemove",(function(e){t.animatedInProgress||t.pressButton&&t.scene.inProcess()&&t.calculateAngle(e)}))},isInsideOfSmallCircle:function(t){var e=Math.abs(t.pageX-this.scene.cx-this.scene.coord.left),n=Math.abs(t.pageY-this.scene.cy-this.scene.coord.top);return Math.sqrt(e*e+n*n)<this.scene.radius-3*this.innerDelta},isOusideOfBigCircle:function(t){return Math.abs(t.pageX-this.scene.cx-this.scene.coord.left)>this.scene.radius||Math.abs(t.pageY-this.scene.cy-this.scene.coord.top)>this.scene.radius},draw:function(){a.source.buffer&&(this.pressButton||(this.angle=a.context.currentTime/a.source.buffer.duration*2*Math.PI||0),this.drawArc())},drawArc:function(){this.context.save(),this.context.strokeStyle="rgba(254, 67, 101, 0.8)",this.context.beginPath(),this.context.lineWidth=this.lineWidth,this.r=this.scene.radius-(this.innerDelta+this.lineWidth/2),this.context.arc(this.scene.radius+this.scene.padding,this.scene.radius+this.scene.padding,this.r,0,this.angle,!1),this.context.stroke(),this.context.restore()},calculateAngle:function(t,e){this.animatedInProgress=e,this.mx=t.pageX,this.my=t.pageY,this.angle=Math.atan((this.my-this.scene.cy-this.scene.coord.top)/(this.mx-this.scene.cx-this.scene.coord.left)),this.mx<this.scene.cx+this.scene.coord.left&&(this.angle=Math.PI+this.angle),this.angle<0&&(this.angle+=2*Math.PI),e?this.startAnimation():this.prevAngle=this.angle},startAnimation:function(){var t=this,e=this.angle,n=(Math.abs(this.angle)-Math.abs(this.prevAngle))/this.animationCount,i=0;this.angle=this.prevAngle,this.animateId=setTimeout((function a(){t.angle+=n,++i==t.animationCount?(t.angle=e,t.prevAngle=e,t.animatedInProgress=!1):t.animateId=setTimeout(a,20)}),20)},stopAnimation:function(){clearTimeout(this.animateId),this.animatedInProgress=!1}},n={padding:120,minSize:740,optimiseHeight:982,_inProcess:!1,init:function(){this.canvasConfigure(),this.initHandlers(),t.init(this),e.init(this),i.init(this),this.startRender()},canvasConfigure:function(){this.canvas=document.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.context.strokeStyle="#FE4365",this.calculateSize()},calculateSize:function(){this.scaleCoef=Math.max(.5,740/this.optimiseHeight);var t=Math.max(this.minSize,1);this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",t),this.width=t,this.height=t,this.radius=(t-2*this.padding)/2,this.cx=this.radius+this.padding,this.cy=this.radius+this.padding,this.coord=this.canvas.getBoundingClientRect()},initHandlers:function(){var e=this;window.onresize=function(){e.canvasConfigure(),t.configure(),e.render()}},render:function(){var t=this;requestAnimationFrame((function(){t.clear(),t.draw(),t._inProcess&&t.render()}))},clear:function(){this.context.clearRect(0,0,this.width,this.height)},draw:function(){t.draw(),e.draw(),i.draw()},startRender:function(){this._inProcess=!0,this.render()},stopRender:function(){this._inProcess=!1},inProcess:function(){return this._inProcess}},i={playing:!1,init:function(t){this.scene=t,this.context=t.context,this.initHandlers(),this.timeControl=document.querySelector(".time")},initHandlers:function(){this.initPlayButton(),this.initPauseButton(),this.initSoundButton(),this.initPrevSongButton(),this.initNextSongButton(),this.initTimeHandler()},initPlayButton:function(){var t=this;this.playButton=document.querySelector(".play"),this.playButton.addEventListener("mouseup",(function(){t.playButton.style.display="none",t.pauseButton.style.display="inline-block",a.play(),t.playing=!0}))},initPauseButton:function(){var t=this;this.pauseButton=document.querySelector(".pause"),this.pauseButton.addEventListener("mouseup",(function(){t.playButton.style.display="inline-block",t.pauseButton.style.display="none",a.pause(),t.playing=!1}))},initSoundButton:function(){var t=this;this.soundButton=document.querySelector(".soundControl"),this.soundButton.addEventListener("mouseup",(function(){t.soundButton.classList.contains("disable")?(t.soundButton.classList.remove("disable"),a.unmute()):(t.soundButton.classList.add("disable"),a.mute())}))},initPrevSongButton:function(){var t=this;this.prevSongButton=document.querySelector(".prevSong"),this.prevSongButton.addEventListener("mouseup",(function(){a.prevTrack(),t.playing&&a.play()}))},initNextSongButton:function(){var t=this;this.nextSongButton=document.querySelector(".nextSong"),this.nextSongButton.addEventListener("mouseup",(function(){a.nextTrack(),t.playing&&a.play()}))},initTimeHandler:function(){var t=this;setTimeout((function(){var e=parseInt(a.context.currentTime||0),n=parseInt(e/60),i=e-60*n;n<10&&(n="0"+n),i<10&&(i="0"+i);var s=n+":"+i;t.timeControl.textContent=s,t.initTimeHandler()}),300)},draw:function(){this.drawPic()},drawPic:function(){this.context.save(),this.context.beginPath(),this.context.fillStyle="rgba(254, 67, 101, 0.85)",this.context.lineWidth=1;var t=e.r/Math.sqrt(Math.pow(Math.tan(e.angle),2)+1),n=Math.sqrt(e.r*e.r-t*t);2==this.getQuadrant()&&(t=-t),3==this.getQuadrant()&&(t=-t,n=-n),4==this.getQuadrant()&&(n=-n),this.context.arc(this.scene.radius+this.scene.padding+t,this.scene.radius+this.scene.padding+n,10,0,2*Math.PI,!1),this.context.fill(),this.context.restore()},getQuadrant:function(){return 0<=e.angle&&e.angle<Math.PI/2?1:Math.PI/2<=e.angle&&e.angle<Math.PI?2:Math.PI<e.angle&&e.angle<3*Math.PI/2?3:3*Math.PI/2<=e.angle&&e.angle<=2*Math.PI?4:void 0}},a={buffer:null,duration:0,tracks:[{artist:"Kavinsky",song:"Odd Look ft. The Weeknd",url:"//katiebaca.com/tutorial/odd-look.mp3"}],init:function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,this.context=new AudioContext,this.context.suspend&&this.context.suspend(),this.firstLaunch=!0;try{this.javascriptNode=this.context.createScriptProcessor(2048,1,1),this.javascriptNode.connect(this.context.destination),this.analyser=this.context.createAnalyser(),this.analyser.connect(this.javascriptNode),this.analyser.smoothingTimeConstant=.6,this.analyser.fftSize=2048,this.source=this.context.createBufferSource(),this.destination=this.context.destination,this.loadTrack(0),this.gainNode=this.context.createGain(),this.source.connect(this.gainNode),this.gainNode.connect(this.analyser),this.gainNode.connect(this.destination),this.initHandlers()}catch(e){t.setLoadingPercent(1)}t.setLoadingPercent(1),n.init()},loadTrack:function(t){var e=this,n=new XMLHttpRequest,i=this.tracks[t];document.querySelector(".song .artist").textContent=i.artist,document.querySelector(".song .name").textContent=i.song,this.currentSongIndex=t,n.open("GET",i.url,!0),n.responseType="arraybuffer",n.onload=function(){e.context.decodeAudioData(n.response,(function(t){e.source.buffer=t}))},n.send()},nextTrack:function(){},prevTrack:function(){},play:function(){this.context.resume&&this.context.resume(),this.firstLaunch&&(this.source.start(),this.firstLaunch=!1)},stop:function(){this.context.currentTime=0,this.context.suspend()},pause:function(){this.context.suspend()},mute:function(){this.gainNode.gain.value=0},unmute:function(){this.gainNode.gain.value=1},initHandlers:function(){var e=this;this.javascriptNode.onaudioprocess=function(){t.frequencyData=new Uint8Array(e.analyser.frequencyBinCount),e.analyser.getByteFrequencyData(t.frequencyData)}}};a.init()}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return a.a.createElement("div",{className:"audioContainer"},a.a.createElement("div",{class:"player"},a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Roboto:100",rel:"stylesheet",type:"text/css"}),a.a.createElement("canvas",null),a.a.createElement("div",{class:"song"},a.a.createElement("div",{class:"artist"},"Kavinsky"),a.a.createElement("div",{class:"name"},"Odd Look ft. The Weeknd")),a.a.createElement("div",{class:"playarea"},a.a.createElement("div",{class:"prevSong"}),a.a.createElement("div",{class:"play"}),a.a.createElement("div",{class:"pause"}),a.a.createElement("div",{class:"nextSong"})),a.a.createElement("div",{class:"soundControl"}),a.a.createElement("div",{class:"time"},"00:00")))}}]),n}(a.a.Component)),v=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this.props.card;return a.a.createElement("div",null,a.a.createElement("img",{id:"prevImg",src:t.imageUrl,style:{width:"150px",height:"150px"}}),a.a.createElement("h3",null," ",this.props.card.name," "))}}]),n}(a.a.Component),y=(n(22),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).state={currentSongUrl:null,currentSongName:"",currentSongArtist:"",isLogged:!1,totalCount:0,score:0,correct:!1,submitted:!1,gameOver:!1},i.handleAudio=i.handleAudio.bind(Object(h.a)(i)),i.nextTrack=i.nextTrack.bind(Object(h.a)(i)),i.randomNumber=i.randomNumber.bind(Object(h.a)(i)),i.myInput=a.a.createRef(),i.arrNums=[],i.known=[],i.missed=[],i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){setTimeout(function(){this.setState({gameOver:!0})}.bind(this),12e4)}},{key:"randomNumber",value:function(t,e){for(var n=parseInt(Math.random()*(e-t)+t);-1!==this.arrNums.indexOf(n);)n=parseInt(Math.random()*(e-t)+t);return this.arrNums.push(n),n}},{key:"nextTrack",value:function(t,e){var n=this;t.preventDefault();var i=this.randomNumber(0,e.length-1),a=this.state.currentSongName.normalize("NFD").toLowerCase().replace(/[.,'/?#!$%^&*;:{}=_`~\s]/g,"");a=a.normalize("NFD").replace(/[\u0300-\u036f]/g,"");var s=this.myInput.value.normalize("NFD").toLowerCase().replace(/[.,'/?#!$%^&*;:{}=_`~\s]/g,"").trim();if(s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,""),this.setState({correct:!1,submitted:!0}),e.length>0)for(;null==e[i].url;)i=this.randomNumber(0,e.length-1);"("===a[0]?a=a.split(")")[1].trim():a.includes("(")&&(a=a.split("(")[0].trim()),a.includes("-")&&(a=a.split("-")[0].trim()),s===a?(this.known.push(this.state.currentSongName),this.setState({score:this.state.score+1,correct:!0},(function(){return console.log(n.state.score)}))):this.missed.push(this.state.currentSongName),this.myInput.value="",console.log(this.myInput.value),console.log(a),this.setState({previousSongName:this.state.currentSongName,totalCount:this.state.totalCount+1,match:!1,currentSongUrl:e[i].url,currentSongName:e[i].name},(function(){return console.log(e[i].name)})),console.log(this.known),console.log(this.missed)}},{key:"handleAudio",value:function(t){console.log("handle audio start");var e=this.randomNumber(0,t.length-1);if(console.log(e),t.length>0)for(;null==t[e].url;)e=this.randomNumber(0,t.length-1);this.setState({currPosition:e,currentSongUrl:t[e].url,currentSongName:t[e].name,correct:!1},(function(){return console.log("im setting state")})),console.log("handle audio done")}},{key:"render",value:function(){var t=this,e=this.props.selectedPlaylist;return null==e?a.a.createElement("h2",null,"Error! No playlists retrieved! "):e.length>0?(null!==this.state.currentSongUrl&&""!==this.state.currentSongUrl||this.handleAudio(e),[a.a.createElement("h2",null," Score: ",this.state.score," "),a.a.createElement("div",null," ",this.state.gameOver?null:a.a.createElement("div",{id:"player"},a.a.createElement(p,{song:this.state.currentSongUrl}),a.a.createElement("form",{onSubmit:function(n){return t.nextTrack(n,e)}},a.a.createElement("input",{type:"text",ref:function(e){t.myInput=e},placeholder:"Enter song name",autoFocus:!0}),a.a.createElement("button",{type:"submit"}," submit ")),a.a.createElement("div",null,this.state.submitted?this.state.correct?a.a.createElement("h5",null," Good job!"):a.a.createElement("h5",null," Not quite... "):null),a.a.createElement("div",null," ",this.state.submitted?a.a.createElement("h4",null," Previous song:  ",this.state.previousSongName," "):null))),a.a.createElement("div",null," ",this.state.gameOver?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"list-container"},a.a.createElement("h3",null," Songs you knew "),a.a.createElement("ul",{className:"list"}," ",this.known.map((function(t){return a.a.createElement("li",null," ",t)})))),a.a.createElement("div",{className:"list-container"},a.a.createElement("h3",null," Songs you missed "),a.a.createElement("ul",{className:"list"}," ",this.missed.map((function(t){return a.a.createElement("li",null," ",t)}))))):null)]):a.a.createElement("h2",null," Error! No songs retrieved! ")}}]),n}(a.a.Component)),k=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{id:"Title"},a.a.createElement("h1",null," ",a.a.createElement("a",{href:"http://localhost:8888/login"}," SONG SAVANT ")," "))}}]),n}(a.a.Component),x=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{id:"Directions"},a.a.createElement("p",null,"Here's how it works: Select a playlist. When the song plays, try to enter the title as fast as you can. See how many songs you can enter before time\u2019s up!"),a.a.createElement("p",null,"Test your knowledge!"))}}]),n}(a.a.Component),b=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(o.a)(this,i),(n=e.call(this,t)).state={songsList:{},categoryClicked:!1,clicked:!1,isEmptyState:!0,isLogged:!1,catIsLogged:!1,renderPlayer:!1,renderTimer:!1,category:"",fetched:!1,myCategories:["hiphop","pop","toplists","country","rock","rnb","alternative","dance","decades","christian","kpop","blues","classical","indie","jazz","soul","punk","metal","reggae","funk"],gameOver:!1},n.handlePlaylist=n.handlePlaylist.bind(Object(h.a)(n)),n.handleCategory=n.handleCategory.bind(Object(h.a)(n)),n}return Object(c.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=m.a.parse(window.location.hash).access_token;e&&(fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+e}}).then((function(t){return t.json()})).then((function(e){return t.setState({user:{name:e.display_name}})})),fetch("https://api.spotify.com/v1/browse/categories?&limit=50",{headers:{Authorization:"Bearer "+e}}).then((function(t){return t.json()})).then((function(e){console.log(e);var n=e.categories.items;t.setState({categories:n.map((function(t){return{name:t.name,imageUrl:t.icons[0].url,id:t.id}}))})})))}},{key:"handlePlaylist",value:function(t){console.log("clicked"),this.setState({clicked:!0,isEmptyState:!1,songsList:t.songs,chosenPlaylist:t,playlists:[]}),setTimeout(function(){this.setState({renderPlayer:!0,renderTimer:!0})}.bind(this),3e3),setTimeout(function(){this.setState({renderTimer:!1,gameOver:!0})}.bind(this),123e3)}},{key:"handleCategory",value:function(t){var e=this,n=m.a.parse(window.location.hash).access_token;this.setState({categoryClicked:!0,categoryId:t.id,myCategories:["removeCategory"],fetched:!0});var i="https://api.spotify.com/v1/browse/categories/"+t.id+"/playlists?&limit=50";console.log(i),fetch(i,{headers:{Authorization:"Bearer "+n}}).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.playlists.items,i=e.map((function(t){return fetch(t.tracks.href,{headers:{Authorization:"Bearer "+n}}).then((function(t){return t.json()})).catch((function(t){console.log(t)}))}));return Promise.all(i).then((function(t){return t.forEach((function(t,n){console.log(t),console.log(t.items.filter((function(t){return null!=t.track}))),console.log(t.items),e[n].trackDatas=t.items.filter((function(t){return null!=t.track})).map((function(t){return t.track})).map((function(t){return{name:t.name,url:t.preview_url,artists:t.artists}}))})),e}))})).then((function(t){return e.setState({playlists:t.map((function(t){return{name:t.name,imageUrl:t.images[0].url,songs:t.trackDatas}}))})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.user&&this.state.categories?this.state.categories.filter((function(e){var n=t.state.myCategories.includes(e.id);return console.log(n),n})):[],i=this.state.user&&this.state.playlists?this.state.playlists.filter((function(e){return t.state.playlists})):[];return a.a.createElement("div",null,this.state.user?[a.a.createElement(k,null),a.a.createElement("div",null," ",this.state.clicked?this.state.gameOver?a.a.createElement("h1",{id:"welcome"},"Nice Job, ",this.state.user.name.split(" ").shift(),"!",console.log(this.state.user)):null:a.a.createElement("p",null,a.a.createElement("h1",{id:"welcome"},"Welcome, ",this.state.user.name.split(" ").shift(),"!",console.log(this.state.user))),this.state.clicked?null:a.a.createElement(x,null),a.a.createElement("div",{id:"game"},!this.state.categoryClicked&&a.a.createElement("h3",null," Select a category:  "),this.state.categoryClicked&&this.state.isEmptyState&&a.a.createElement("h3",null," Select a playlist:  ")),this.state.categoryClicked?i.map((function(e){return a.a.createElement("button",{className:"songCard",onClick:function(){return t.handlePlaylist(e)}},t.state.clicked&&!t.state.isLogged?t.setState({isLogged:!0}):console.log("no playlists"),a.a.createElement(v,{card:e}))})):console.log("unclicked"),a.a.createElement("div",{id:"game"},!this.state.renderTimer&&!this.state.gameOver&&this.state.categoryClicked&&this.state.clicked?a.a.createElement("div",null,"Game starts in...",a.a.createElement(f,{limit:3})):null,!this.state.renderTimer&&this.state.gameOver?a.a.createElement("div",null," ",a.a.createElement("button",{id:"replay"}," Play Again ")," ",a.a.createElement("button",{id:"diffPlaylist"}," Different Playlist")):null,this.state.clicked&&this.state.renderPlayer?a.a.createElement(y,{elementId:"myPlayer",playlist:this.state.chosenPlaylist,selectedPlaylist:this.state.songsList}):null),e.map((function(e){return a.a.createElement("button",{className:"songCard",onClick:function(){return t.handleCategory(e)}},t.state.categoryClicked&&!t.state.catIsLogged?t.setState({catIsLogged:!0}):console.log(e),a.a.createElement(v,{card:e}))})))]:[a.a.createElement("img",{id:"logo",src:n(27)}),a.a.createElement("button",{id:"signIn",onClick:function(){window.location=window.location.href.includes("localhost")?"http://localhost:8888/login":"heroku link here"}},"Sign in with Spotify")])}}]),i}(a.a.Component),E=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(b,null))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.fe71c6d9.chunk.js.map